{% extends "base.html" %}

{% block title %}DocNest - 上传成功{% endblock %}

{% block additional_styles %}
<style>
    .success-icon {
        text-align: center;
        margin-bottom: 20px;
    }
    .success-icon i {
        font-size: 64px;
        color: #34a853;
    }
    .success-message {
        text-align: center;
        margin-bottom: 30px;
    }
    .success-message h2 {
        color: #34a853;
        margin-bottom: 10px;
    }
    .document-info {
        margin-bottom: 30px;
    }
    .document-info p {
        margin: 5px 0;
    }
    .qr-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 30px;
    }
    .qr-code {
        margin-bottom: 15px;
        padding: 10px;
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .qr-code img {
        max-width: 200px;
        height: auto;
    }
    .extraction-code {
        text-align: center;
        margin-bottom: 30px;
    }
    .code-display {
        font-size: 32px;
        letter-spacing: 5px;
        font-weight: bold;
        color: #4285f4;
        margin: 15px 0;
        padding: 10px 20px;
        background-color: #f8f9fa;
        border-radius: 4px;
        display: inline-block;
    }
    .btn-group {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
    }
</style>
{% endblock %}

{% block content %}
<div class="card">
    <div class="success-icon">
        <i class="fas fa-check-circle"></i>
    </div>
    <div class="success-message">
        <h2>文档上传成功！</h2>
        <p>您的文档已成功上传到系统，请保存以下信息以便后续访问。</p>
    </div>

    <div class="document-info">
        <p><strong>文件编号：</strong> {{ file_number }}</p>
        <p><strong>文件名：</strong> {{ filename }}</p>
    </div>

    <div class="qr-section">
        <h3>二维码</h3>
        <p>扫描下方二维码可直接查看文档</p>
        <div class="qr-code">
            <img src="/{{ qr_path }}" alt="文档二维码">
        </div>
    </div>

    <div class="extraction-code">
        <h3>文件提取码</h3>
        <p>使用以下4位数字提取码可在查询页面查看文档</p>
        <div class="code-display">{{ extraction_code }}</div>
    </div>

    <div class="btn-group">
        <a href="/view/{{ document_id }}" class="btn" target="_blank">查看文档</a>
        <a href="/" class="btn">继续上传</a>
    </div>
</div>
{% endblock %}
